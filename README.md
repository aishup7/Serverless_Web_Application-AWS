# Serverless_Web_Application-AWS
A serverless web app on AWS using Lambda, API Gateway, Amplify, DynamoDB, and Cognito for scalable, secure, and efficient functionality.

Click here to view :
[My Simple Architecture](https://viewer.diagrams.net/?tags=%7B%7D&target=blank&highlight=0000ff&layers=1&nav=1&title=ARP%20-%20AWSWebApp.drawio#R7Vpbd9o4EP41PMKxfMH4EQxJOIdu2dBudp84whZGW2O5sgjQX7%2BSLYMtC8gWSLsXkhyskTySZr75ZiynZfnr3SOF6eoDCVHcMo1w17KGLdMEtmXzLyHZS0kXeIUkojiUsqNghr8hKTSkdINDlNUGMkJihtO6MCBJggJWk0FKybY%2BbEni%2BqwpjFBDMAtg3JS%2B4JCtpBR0vWPHE8LRSk7dM92iYw3LwXIn2QqGZFsRWaOW5VNCWHG13vkoFtYr7VLc93Ci97AwihL2lhs%2Bj75NP%2Ff7H8f0oY2zXuT47tc2cJ1CzyuMN3LL%2FZcZF%2Fgx2YRy5WxfmiMlOGG5SZ0B%2F%2BUz%2BkbL4T2%2BaHVMRxGobbcuAM2W0FEXqG23LgCqeqDMD9QFVgSNVk29ocxvVBbIf60B2bAYJ8g%2FgM%2FgwojCEHOn%2BCQmlMsSknDrDVZsHfMW4JfbFWZolsJAWHXLI4fLliRhEv7ALNvS8EIrh08qrte7SIRaB24zuxNRsknzKcc8ALS9c345D4Qz5zBmQhGj5AsqF9cyLf7zICAzWOI4Vhb9iijDPBr6MY6EfkbEdFC2YrTMNfKd4CSa5K2hZcjV66YIYbZCodxSDBcoHsDgi1hoElbGL%2FMPH8J3xSC3MJWWy%2FGH6OgVFTA08jFxDNMMLw62oijY0Ay%2FomeUFSYV0mbAyBgSm0S7ikgG0CMia8Tong%2BRvaYrg1nSWdt1pGB7JAfXkrJVhResnteRoQYlJUUH9ceo5RcycPVBvJ18HY%2BNWZc8%2Fmok0Aejh%2BlTG%2FQaMdwyu7mzF7Xw7X7dCLbJvdMuLNPnA4CT7nL7lP38KhLfBRP0p%2BOW4BapkV6l8hEytIX7Uhvf76LsapCNNrpqCCrhORFImpIMM5yHwYIwRtYX8RsgAaZ6bGrizOrAFM8jufJ6nHCwDr2%2Ba4PTgV%2BNbKcZG0b%2BOey%2FAcY6ZM%2Bx%2BGnYOmYNtmXyqoK2W8KzitoeuBNkrXOILeFQCIS5boHidRrjZRV4heL6ZGfxmH1BLFhJ6GkzoTYb6jKiNis2M2NtWJ6rNDOoQp3MbQpBc1iZ3ppCnUyXy9W7geZuoNx9OpOeihQ1AIeWbfu61HbII%2FdmjUvZG2Zpsa0l3ol16NM5RRnZ0AAVyZynsUyX1qFE8skEKnnnfnziGZfopCSOdyET8P5sMu5%2FuIZJfp7MhuG6GVCu4%2Fl5uXYmoz3ANY4FAJ5Q%2FIrEUu4KOdusY46DrkxYFdh1NZWXa9yv8LI1wFNcjZKwL55DhVNimGU4qHslj9yD24vbUdh4KP1e81WM42iMU8ooiiHjBXP9%2BVljLznDVGS%2Fo3eAC2reAUaj2i2YTd5XfUxVVB2WVFFlAdPreYbtWD3L7tb1MkgjxBp6uc1FlXkYJtO16vGDpa4AQfMJ%2Br8JAstSQAAakfdWENjAuKTqx%2Fu9%2B7%2FfC2d5N%2FO74%2F4D%2FO69e7VRffYu5BO4XoTw31GCxMVeGlXIg9NzLPt0FXLHYgOATnkwuleriIsPze79TnrKIkiDvauh1gDxKewN9wlck%2BEJmJ1A5E%2BLvjDfzTxcNAFojlxr0PsRAFR5UIu%2Bnq7YvSP2dE9ZV%2BU7biO6%2F100Ok7Z%2FKPaN9zVWvtqa4oo5hvLT4ZvkDxNo0gs54jf%2BqFZVq2Lve8use1ug97MZsF%2BItHeKo2a75hFX5A4Bx%2BIt4GIXnUCqDBIgLOAdAKyTjccidkcJuE85cBMV4jCOOts0WK%2BkNPWAkF9jwFU%2BlOoyLC6Pc89e8RV9JQvKc0bUqiWrN9EfuffpgAF0m2npLRKSHnvy3LuG0iOc0x5tkcoW5GIJDAeHaUKzR3HTIgwcO7sPxFje3liCDeM1OFxZMYaLx5p8sbMKEUFgVwO2otUeYIpr33AdO2O61U%2BjgIf087Pn9%2BTxZonQEXZNBs9%2FzZ6noxmovEy4k4w%2BtPpZOz3P40%2F%2FiJaz%2F7T%2BNPI%2F%2FT5ecSbbSHC2WoL6Z7X9cYz%2F5s2oFcHlu41crXcqVFF9WWUVKgeXFu3CWurp%2FilB5ph7RiauLaNvx3VvHn8F4rCq8f%2FRLFGfwE%3D)

# What do we need for this project :
1. Amplify - To host or create a web page.
2. Lambda - A lambda function to the math.
3. API Gateway - To invoke the math functionality.
4. DynamoDB - To store and return the math result.
5. IAM - To handle permissions.

# STEP 1 : Hosting a Simple Math Web Page with Amplify.
1. Create a simple web page like this [index-OG.txt](https://github.com/aishup7/Serverless_Web_Application-AWS/files/12777551/index-OG.txt)
2. Compress this text file into a zip file.
2. Open AWS console and navigate to AWS Amplify console.
3. Click on New app.
	1. Click on host a app.
	2. Select deploy w/o git provider; continue.
	3. Give a app name.
	4. Give a environment name.
	5. Select drag & drop method and drop the zip file.
	6. Save and deploy.
4. Click on domain url to view.

# STEP 2 : Create a Lambda function that triggers with AWS Lambda.
1. Open AWS console and navigate to AWS Lambda console.
2. Click on create function.
	1. Click on Author from scratch.
	2. Give a function name.
	3. Choose runtime language like python 3.9 in this case.
	4. Click on create function.
3. Go to code source under function created.
4. Update the default code with the python lambda function code like this [PowerFunction - Lambda-ORIGINAL.txt](https://github.com/aishup7/Serverless_Web_Application-AWS/files/12777535/PowerOfMathFunction.-.Lambda-ORIGINAL.txt)
5. Click deploy.
6. Configure test event under test.
7. Test the function.

# STEP 3 : Create a API to invoke function with AWS API Gateway.
1. Open AWS console and navigate to AWS API gateway console.
2. Click on create API, choose REST API, click build.
3. Give a API name, click create API.
4. Under resources, click on actions.
5. Click on create method - click POST method type.
6. Select integration type as lambda function.
7. select the lambda function creatded earlier, click save.
8. Select post, click on actions menu, click on enable CORS, click enable.
9. Under actions menu, click deploy API - select deployment stage as new stage and give a stage name.
10. Copy invoke url and keep aside for later. 
11. Go to resources , go to post, click on test.

# STEP 4 : Create a Database to store results with AWS DynamoDB.
1. Open AWS console and navigate to AWS DynamoDB console.
2. Click on create table , fill required  details.
3. Click on create table.
4. Copy ARN url and keep aside for later.
5. Give Lambda permission to save and retrieve results in DB.
	1. Go to the lambda function created earlier.
	2.Under configurations, go to permissions section.
	3. Click on execution role name url.
	4. Go to trust reltionships section.
	5. Click on add permissions, create inline policies.
	6. Select JSON editor and add policy like this [Execution Role Policy JSON.txt](https://github.com/aishup7/Serverless_Web_Application-AWS/files/12777532/Execution.Role.Policy.JSON.txt) [replace your db arn saved earlier!]
	7. Review policy - provide name, create policy.

# STEP 5 : Update Lambda function to use the DB to store and retrive results.
1. Open AWS console and navigate to AWS Lambda console.
2. Go to code source under function created.
3. Update the default code with the python lambda function code like this [PowerFunction - Lambda-FINAL.txt](https://github.com/aishup7/Serverless_Web_Application-AWS/files/12777534/PowerOfMathFunction.-.Lambda-FINAL.txt)
4. Click deploy.
5. Test the function.

# STEP 6 : Invoke API gateway from web page.
1. Open AWS console and navigate to AWS Lambda console.
2. Update the simple web page like this [index NW.txt](https://github.com/aishup7/Serverless_Web_Application-AWS/files/12777547/index.NW.txt) [replace your Api gateway url saved earlier!]
3. Compress this text file into a zip file.
	1. Select drag & drop method and drop the zip file.
4. Click on domain url to view. 

# References :
[A similar Project Building by AWS](https://aws.amazon.com/getting-started/hands-on/build-serverless-web-app-lambda-apigateway-s3-dynamodb-cognito/)
<br>[Tiny Tech Tutorials : Video Tutorial of the same](https://www.youtube.com/watch?v=7m_q1ldzw0U)









